spring:
  application:
    name: service-b

server:
  port: 8081

# H2 Database (JPA 의존성 때문에 필요)
  datasource:
    url: jdbc:h2:mem:testdb
    driver-class-name: org.h2.Driver
  jpa:
    hibernate:
      ddl-auto: create-drop

# Logging with traceId
logging:
  level:
    root: INFO
    com.example.serviceb: DEBUG
  pattern:
    console: "%d{HH:mm:ss.SSS} [%thread] [%X{traceId}/%X{spanId}] %-5level %logger{36} - %msg%n"

# Actuator 설정
management:
  endpoints:
    web:
      exposure:
        include: health, info, metrics, prometheus
  tracing:
    # 샘플링 확률 (1.0 = 100%)
    sampling:
      probability: 1.0

  # Zipkin 설정
  zipkin:
    tracing:
      endpoint: http://localhost:9411/api/v2/spans

# Info 엔드포인트
info:
  app:
    name: Service B (Inventory & Payment)
    description: Distributed Tracing Demo - Backend Service
    version: 1.0.0
